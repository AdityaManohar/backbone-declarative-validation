/*! backbone.declarative.validator - v0.1.0-dev - 3/31/2013
* https://github.com/AdityaManohar/backbone-declarative-validator
* Copyright (c) 2013 Aditya Manohar; Licensed MIT */
(function(r,e){"use strict";var t={patterns:{email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,number:/^\d*$/,text:/^(\s*([A-Za-z]+)\s*)+$/i},helpers:{type:function(r,e,t){return t?t.test(r):this.patterns[e].test(r)},presence:function(r,e){return null===r||r===void 0?!1:!!r.replace(/^\s+|\s+$/g,"")===e},length:function(r,e){return(""+r).length===e}},validate:function(r){var t,s,i,n=this.validates,o=r;if(n){this.errors||(this.errors={});for(var h in n)if(n.hasOwnProperty(h)){this.errors[h]||(this.errors[h]={}),t=o[h],i=h.replace(/_/," "),s=n[h];for(var a in s)this.helpers[a]&&(this.helpers[a].call(this,t,s[a],s.using)?this.errors[h][a]&&delete this.errors[h][a]:this.errors[h][a]=s.msg||"Invalid "+i);e.isEmpty(this.errors[h])&&delete this.errors[h]}}return e.isEmpty(this.errors)?void 0:this.errors}};e.extend(r.Model.prototype,t)})(Backbone,_);